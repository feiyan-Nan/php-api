webpackJsonp([6],{"+h/R":function(t,i){},Hui0:function(t,i){},ObZs:function(t,i){},"WKm+":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("woOf"),a=e.n(n),o=e("iPXC"),s=e("62KO"),c=e("wqaH"),r=e("swX9"),l=e("HQX+"),d=(Array,{name:"HeaderSwiper",props:{list:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{swiperOption:{pagination:{el:".swiper-pagination",type:"fraction"},autoplay:2e3,loop:!1,autoResize:!0,resizeReInit:!0,onSlideChangeEnd:function(i){t.swiperInfo.currentIndex=i.realIndex+1}},swiperInfo:{currentIndex:1}}},methods:{goBack:function(){Object(r.a)()?window.glamor.closePage():Object(r.b)()?this.$device.JsBridge.callHandler("h5LeftBack",{},function(t){}):this.$router.go(-1)}},beforeMount:function(){this.swiperOption.loop=this.list.length>1}}),u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"HeaderSwiper"}},[t._e(),t._v(" "),e("swiper",{attrs:{options:t.swiperOption,refs:"swiper"}},[t._l(t.list,function(t,i){return e("swiper-slide",{key:i},[e("img",{staticClass:"img",attrs:{src:t}})])}),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"},[t._v(t._s(t.swiperInfo.currentIndex)+"/"+t._s(t.list.length))])],2)],1)},staticRenderFns:[]};var h=e("VU/8")(d,u,!1,function(t){e("gFnt")},"data-v-122b68d6",null).exports,v=(String,Number,String,Number,String,Number,String,Number,{name:"giftDesc",props:{name:{type:[String,Number],default:""},price:{type:[String,Number],default:0},needJpoint:{type:[String,Number],default:0},cntTotal:{type:[String,Number],default:0}}}),f={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"giftDesc"}},[n("h1",{staticClass:"giftName"},[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"price"},[n("nav",[n("img",{attrs:{src:e("kt1q")}}),t._v("官网价格"+t._s(t.price)+"元")])]),t._v(" "),n("div",[n("nav",[n("img",{attrs:{src:e("j14t")}}),t._v(t._s(t.needJpoint)+"积分")]),t._v(" "),n("span",[t._v("剩余"+t._s(t.cntTotal)+"份")])])])])},staticRenderFns:[]};var g=e("VU/8")(v,f,!1,function(t){e("tVaU")},"data-v-4ff85746",null).exports,m=e("IxMe"),p=(l.a,m.a,Array,{name:"showGiftList",components:{avatar:l.a,imgShowCenter:m.a},props:{list:{type:Array,default:function(){return[]}}},mounted:function(){console.log("薪页面")},methods:{clickAvatar:function(t){Object(r.a)()?window.glamor.clickAvatar(t.toString()):Object(r.b)()&&this.$device.JsBridge.callHandler("h5ClickAvatar",{uid:t.toString()},function(){})},toDetailView:function(t,i,e,n){if(console.log("contId",t),console.log("detailUrl",i),console.log("timelineType",e),console.log("content",n),t&&i){var a=1==e;Object(r.a)()?window.glamor.toDetailView(t,i,e,n):Object(r.b)()&&this.$device.JsBridge.callHandler("h5ClickPicture",{detailUrl:i,contId:t,isVideo:a},function(t){})}}}}),w={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"showGiftList"}},t._l(t.list,function(i,n){return e("div",{key:n,staticClass:"giftDetail"},[e("header",{on:{click:function(e){return t.clickAvatar(i.uid)}}},[e("div",{staticClass:"touxiang",class:{isAuth:i.isAuth}},[e("div",{staticClass:"avatar"},[e("imgShowCenter",{attrs:{src:i.avatar}})],1)]),t._v(" "),e("div",{staticClass:"name"},[e("p",[t._v(t._s(i.nickName))]),t._v(" "),i.isAuth?e("nav",[t._v(t._s(i.org?i.org:"")+"  "+t._s(i.authTitle))]):i.signature?e("nav",[t._v(t._s(i.signature))]):e("nav",[t._v(t._s(i.cntFans)+"人 关注")])])]),t._v(" "),e("main",{class:{jingxuan:i.quality>0,shipin:1==i.timelineType},on:{click:function(e){return t.toDetailView(i.contId,i.detailUrl,i.timelineType,i.content)}}},[e("imgShowCenter",{attrs:{src:i.coverSrc}})],1)])}),0)},staticRenderFns:[]};var b=e("VU/8")(p,w,!1,function(t){e("ObZs")},"data-v-e8be9a64",null).exports,A=(String,Number,String,Number,{name:"stretch",props:{title:{type:[String,Number],default:""},content:{type:[String,Number],default:""}},data:function(){return{isActive:!1}},methods:{toggle:function(){this.isActive=!this.isActive,console.log("this.$refs.content.$el.style.lineHeight",this.$refs.content.clientHeight)}}}),S={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"stretch"}},[n("h2",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{ref:"content",staticClass:"content",class:{def:!t.isActive}},[t._v("\n    （1）礼品兑换成功后将在3-5个工作日内发货，法定节假日顺延。"),n("br"),t._v("\n    （2）使用积分进行兑换，兑换申请一经提交, 不可取消(除礼品缺货等特殊情况)。"),n("br"),t._v("\n    （3）如因缺货、破损等原因导致退换礼品，七天内不影响二次兑换的情况下联系客服，抵扣的积分将原路返还到账户。"),n("br"),t._v("\n    （4）海外/港澳台/偏远地区的用户需另补邮费差价。"),n("br"),t._v("\n    （5）惊喜版块礼品兑换最终解释权归光芒所有。"),n("br")]),t._v(" "),n("nav",{staticClass:"arrow",on:{click:t.toggle}},[n("img",{class:{rotate:!t.isActive},attrs:{src:e("XEpu")}})])])},staticRenderFns:[]};var _=e("VU/8")(A,S,!1,function(t){e("+h/R")},"data-v-f86f0818",null).exports,C=(Number,{name:"HeaderNav",props:{opacity:{type:Number,default:0}},methods:{goBack:function(){return Object(r.a)()?(console.log("安卓"),void window.glamor.closePage()):Object(r.b)()?(console.log("ios"),void this.$device.JsBridge.callHandler("h5LeftBack",{},function(t){})):(console.log("web"),void this.$router.go(-1))}},watch:{opacity:function(){return this.opacity}}}),k={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"HeaderNav"}},[i("div",{on:{click:this.goBack}},[i("i",{staticClass:"iconfont icon-xingzhuang",style:"color: "+(this.opacity>=1?"black":"white")})])])},staticRenderFns:[]};var x=e("VU/8")(C,k,!1,function(t){e("Hui0")},"data-v-4820b903",null).exports,I=(s.a,l.a,{data:function(){return{loading:!1,isNetError:!1,isContError:!1,uid:"",goodid:"",title:"",activityTitle:"",price:0,cntTotal:0,needJpoint:0,content:"",isConfirmShow:!1,confirmInner:"",isExchange:!1,isExlpain:!1,isShowStat:1,isHandleBottom:!1,swiperList:[],showImgsList:[],pageNum:1,opacity:0}},mounted:function(){var t=this;this.$nextTick(function(){t.eventScroll()});var i=this.$route.query,e=i.goodid,n=i.uid;e&&n?(this.goodid=e,this.uid=n,Object(o.b)("uid",n),this.requestData(),this.getshareList({srcId:this.goodid,srcType:4,pageNum:1,uid:this.uid})):this.$vux.toast.text("参数错误")},methods:{eventScroll:function(){var t=this,i=this.$refs.headerNav.$el.clientHeight;window.addEventListener("scroll",function(){var e=window.pageYOffset;t.opacity=e/i})},toDetailView:function(t,i){if(t&&i)if(Object(r.a)())try{window.glamor.toDetailView(t,i)}catch(t){console.log(t)}else if(Object(r.b)())try{this.$device.JsBridge.callHandler("h5ClickPicture",{detailUrl:i,contId:t},function(t){})}catch(t){console.log(t)}},clickAvatar:function(t){if(t)if(Object(r.a)())try{window.glamor.clickAvatar(t.toString())}catch(t){console.log(t)}else if(Object(r.b)())try{this.$device.JsBridge.callHandler("h5ClickAvatar",{uid:t.toString()},function(t){})}catch(t){console.log(t)}},getshareList:function(t){var i=this;Object(c.f)(t).then(function(t){2e3==t.data.code&&(t.data.data.forEach(function(t){var e={avatar:""};e.uid=t.uid;var n=new Image;n.src=t.avatar,n.onload=function(){e.avatar=t.avatar},a()(e,t);try{var o=JSON.parse(t.coverSrc);e.coverSrc=o.src,e.coverH=1*o.height,e.coverW=1*o.width}catch(t){console.log(t)}i.showImgsList.push(e)}),i.$nextTick(function(){i.$refs.vueLoad&&(0==t.data.data.length?i.$refs.vueLoad.onBottomLoaded(!1):i.$refs.vueLoad.onBottomLoaded())}))}).catch(function(t){console.log(t)})},printImg:function(){if(Object(r.a)())try{window.glamor.toPublish()}catch(t){console.log(t)}else if(Object(r.b)())try{this.$device.JsBridge.callHandler("h5ClickShowPicture",{},function(t){})}catch(t){console.log(t)}},handleBottom:function(){this.isHandleBottom=!0,this.pageNum+=1,this.getshareList({srcId:this.goodid,srcType:4,pageNum:this.pageNum,uid:this.uid})},toggleArrow:function(){this.isExlpain=!this.isExlpain},exchangeGift:function(t){this.confirmInner="将扣除"+this.needJpoint+"可用积分",this.isConfirmShow=!0},onConfirm:function(){var t=this,i=this;Object(c.b)({uid:this.uid,id:this.goodid}).then(function(e){if(2e3==e.data.code){t.cntTotal>1&&(t.cntTotal-=1),t.isExchange=1,console.log(e.data.data);var n=e.data.data.accid,a=e.data.data.avatar,o=e.data.data.isAuth,s=e.data.data.nickName,c=e.data.data.uid;t.$vux.confirm.show({showCancelButton:!1,confirmText:"联系客服",title:"兑换成功",content:"点击联系客服，提供收货信息",onConfirm:function(){if(Object(r.a)())try{window.glamor.jumpToServicer(n,a,o,s,c)}catch(t){console.log(t)}else Object(r.b)()&&(i.$vux.toast.text("run 交互 ios"),i.$device.JsBridge.callHandler("h5ClickContactService",{accid:n,avatar:a,isAuth:o,nickName:s,uid:c},function(t){}))}})}else 3e3==e.data.code?t.$vux.confirm.show({confirmText:"获取积分",title:"噢，积分不足",content:"快去获取更多积分吧",onConfirm:function(){try{Object(r.a)()?window.glamor.h5AchieveIntegral():Object(r.b)()&&i.$device.JsBridge.callHandler("h5AchieveIntegral",{},function(t){}),i.$router.go(-1)}catch(t){console.log(t)}}}):3001==e.data.code&&t.$vux.confirm.show({showConfirmButton:!1,cancelText:"我知道了",title:"噢，礼物被兑换光了",onCancel:function(){}})}).catch(function(t){console.log(t)})},onCancel:function(){this.isConfirmShow=!1},requestData:function(){var t=this;this.loading=!0,Object(c.a)({id:this.goodid,uid:this.uid}).then(function(i){if(t.loading=!1,3021==i.data.code)t.isShowStat=0;else if(2e3===i.data.code){t.swiperList=i.data.data.imgList,t.cntTotal=i.data.data.cntTotal?1*i.data.data.cntTotal:0;["title","activityTitle","price","content","needJpoint","isExchange"].forEach(function(e){t[e]=i.data.data[e]})}else t.isContError=!0}).catch(function(i){t.loading=!1,t.isNetError=!0})}},components:{Confirm:s.a,avatar:l.a,HeaderSwiper:h,GiftDesc:g,showGiftList:b,stretch:_,HeaderNav:x}}),y={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"gift-root"},[n("HeaderNav",{ref:"headerNav",style:"background-color: rgba(255, 255, 255, "+t.opacity+")",attrs:{opacity:t.opacity}}),t._v(" "),[t.content.length||t.swiperList.length||!t.isShowStat?n("quick-loadmore",{ref:"vueLoad",attrs:{"bottom-method":t.handleBottom,"disable-top":!0,"disable-bottom":!1,bottomDistance:60}},[t.isShowStat?n("div",{},[n("div",{staticClass:"swipDom"},[n("HeaderSwiper",{attrs:{list:t.swiperList}})],1),t._v(" "),n("GiftDesc",{attrs:{name:t.activityTitle,price:t.price,needJpoint:t.needJpoint,cntTotal:t.cntTotal}}),t._v(" "),n("div",{staticClass:"specify"},[t._v("商品详情")]),t._v(" "),n("div",{staticClass:"good-detail",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),t.content?n("div",{staticClass:"line1px"}):t._e(),t._v(" "),n("stretch",{attrs:{title:"特别说明"}})],1):n("div",{staticClass:"empty"},[n("div",{staticClass:"inn"},[n("img",{attrs:{src:e("Z2XY"),alt:""}}),t._v(" "),n("p",[t._v("礼品售罄已下架")])])]),t._v(" "),t.showImgsList.length?n("div",{staticClass:"line1px"}):t._e(),t._v(" "),t.showImgsList.length?n("div",{staticClass:"showImgs"},[n("div",{staticClass:"specify"},[t._v("晒礼品")]),t._v(" "),n("showGiftList",{attrs:{list:t.showImgsList}})],1):t._e()]):t._e(),t._v(" "),n("div",[n("confirm",{attrs:{title:"确定兑换？","confirm-text":"兑换礼品"},on:{"on-cancel":t.onCancel,"on-confirm":t.onConfirm},model:{value:t.isConfirmShow,callback:function(i){t.isConfirmShow=i},expression:"isConfirmShow"}},[n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.confirmInner))])])],1)],t._v(" "),t.isShowStat?n("div",{staticClass:"footer"},[n("div",{class:t.isExchange?"red":"white",on:{click:t.exchangeGift}},[t._v(t._s(t.isExchange?"兑换":"兑换礼品"))]),t._v(" "),t.isExchange?n("div",{class:t.isExchange?"white":"red",on:{click:t.printImg}},[t._v("晒礼品")]):t._e()]):t._e()],2)},staticRenderFns:[]};var N=e("VU/8")(I,y,!1,function(t){e("YAtD")},"data-v-9bab6158",null);i.default=N.exports},YAtD:function(t,i){},Z2XY:function(t,i,e){t.exports=e.p+"static/img/xiajia@2x.f5346901554964836145.png"},gFnt:function(t,i){},kt1q:function(t,i){t.exports="data:image/png;base64,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"},tVaU:function(t,i){}});
//# sourceMappingURL=6.46065fcda61723da08a41554964837657.js.map